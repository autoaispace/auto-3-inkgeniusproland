ä¸‹é¢æˆ‘**é‡æ–°ã€å®Œæ•´ã€æŒ‰â€œä¸­æ–‡ç•Œé¢ + React é¡¹ç›®â€**ç»™ä½ æŠŠ**ã€Œè‡ªå®šä¹‰å‚æ•°ï¼ˆData Layer Variableï¼‰ã€è¿™ä¸€æ•´æ¡é“¾è·¯**è®²ä¸€éã€‚
æˆ‘ä¼šä¸¥æ ¼æŒ‰ **åœ¨å“ªä¸ªå¹³å° â†’ ç‚¹å“ªé‡Œ â†’ å¡«ä»€ä¹ˆ â†’ ä¸ºä»€ä¹ˆè¦è¿™æ ·åš** æ¥è¯´æ˜ï¼Œä¸è·³æ­¥ã€ä¸å‡è®¾ä½ ä¼šã€‚

ç›®æ ‡éå¸¸æ˜ç¡®ï¼š

> **ç‚¹å‡»æŸä¸ªæŒ‰é’® â†’ æŠŠ feature / page / position è¿™äº›è‡ªå®šä¹‰å‚æ•°ï¼Œå®Œæ•´åœ°æ˜¾ç¤ºåœ¨ GA4 ä¸­**

---

# ä¸€ã€æ•´ä½“ä½ ç°åœ¨è¦åšçš„äº‹æƒ…ï¼ˆå…ˆå»ºç«‹å…¨å±€è®¤çŸ¥ï¼‰

ä½ ç°åœ¨åšçš„æ˜¯ä¸€ä»¶ä¸‰æ®µå¼çš„äº‹æƒ…ï¼š

```
ã€React é¡¹ç›®ã€‘ â†’ æŠŠæ•°æ® push åˆ° dataLayer
ã€GTMã€‘        â†’ ä» dataLayer é‡Œâ€œå–å€¼â€
ã€GA4ã€‘        â†’ æ¥æ”¶å¹¶å±•ç¤ºè¿™äº›å€¼
```

âš ï¸ **æ¯ä¸€æ®µéƒ½è¦åšï¼Œå¦åˆ™æ•°æ®ä¸€å®šæ˜¯æ–­çš„ã€‚**

---

# äºŒã€ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨ã€React é¡¹ç›®ã€‘é‡Œåšä»€ä¹ˆï¼ˆåªåšä¸€ä»¶äº‹ï¼‰

> å¹³å°ï¼š**ä½ çš„ React é¡¹ç›®ï¼ˆä¸æ˜¯ GTMï¼Œä¸æ˜¯ GA4ï¼‰**

ä½ è¦åšçš„åªæœ‰ä¸€ä»¶äº‹ï¼š
**åœ¨æŒ‡å®šæŒ‰é’®ç‚¹å‡»æ—¶ï¼ŒæŠŠæ•°æ® push è¿› dataLayerã€‚**

## ç¤ºä¾‹ï¼ˆReact ç»„ä»¶ï¼‰

```jsx
function GenerateButton() {
  const handleClick = () => {
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
      event: 'ai_generate',   // äº‹ä»¶åï¼ˆå¿…é¡»ï¼‰
      feature: 'generate',    // è‡ªå®šä¹‰å‚æ•°
      page: 'landing',        // è‡ªå®šä¹‰å‚æ•°
      position: 'hero'        // è‡ªå®šä¹‰å‚æ•°
    });
  };

  return (
    <button onClick={handleClick}>
      ç”Ÿæˆå†…å®¹
    </button>
  );
}
```

åˆ°è¿™é‡Œä¸ºæ­¢ï¼š

* React å·²ç» **æˆåŠŸæŠŠæ•°æ®ä¸¢è¿›äº† dataLayer**
* âŒ ä½† **GTM ç°åœ¨è¿˜â€œçœ‹ä¸åˆ°â€ feature / page / position**

---

# ä¸‰ã€ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨ã€GTMï¼ˆä¸­æ–‡ç•Œé¢ï¼‰ã€‘é‡Œåˆ›å»ºâ€œæ•°æ®å±‚å˜é‡â€

> å¹³å°ï¼š**Google Tag Managerï¼ˆä¸­æ–‡ç•Œé¢ï¼‰**

è¿™ä¸€æ­¥çš„ç›®çš„åªæœ‰ä¸€ä¸ªï¼š

> **å‘Šè¯‰ GTMï¼šdataLayer é‡Œçš„å“ªäº›å­—æ®µï¼Œæˆ‘è¦æ‹¿æ¥ç”¨**

---

## Step 1ï¼šè¿›å…¥ã€Œå˜é‡ã€é¡µé¢

1. æ‰“å¼€ **Google Tag Manager**
2. é€‰æ‹©ä½ çš„ **å®¹å™¨**
3. å·¦ä¾§èœå•ç‚¹å‡»ï¼š

```
å˜é‡
```

---

## Step 2ï¼šåœ¨ã€Œç”¨æˆ·å®šä¹‰å˜é‡ã€ä¸­ç‚¹å‡»ã€Œæ–°å»ºã€

ä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªåŒºåŸŸï¼š

* å†…ç½®å˜é‡
* ç”¨æˆ·å®šä¹‰å˜é‡

ğŸ‘‰ **åœ¨ã€Œç”¨æˆ·å®šä¹‰å˜é‡ã€è¿™ä¸€æ ä¸­ï¼Œç‚¹å‡»ï¼š**

```
æ–°å»º
```

---

## Step 3ï¼šé€‰æ‹©å˜é‡ç±»å‹ï¼ˆè¿™æ˜¯å…³é”®ï¼‰

å¼¹å‡ºé…ç½®é¢æ¿åï¼š

1. ç‚¹å‡» **å˜é‡é…ç½®**
2. åœ¨å˜é‡ç±»å‹åˆ—è¡¨ä¸­é€‰æ‹©ï¼š

```
æ•°æ®å±‚å˜é‡
```

ï¼ˆä¸­æ–‡ç•Œé¢å°±å«è¿™ä¸ªåå­—ï¼‰

---

## Step 4ï¼šå¡«å†™â€œæ•°æ®å±‚å˜é‡â€é…ç½®ï¼ˆæœ€é‡è¦ï¼‰

ç°åœ¨ä½ ä¼šçœ‹åˆ°ä¸‰ä¸ªå­—æ®µï¼š

### â‘  æ•°æ®å±‚å˜é‡åç§°ï¼ˆå¿…é¡»å¡«ï¼‰

å¡«ï¼š

```
feature
```

âš ï¸ è¿™å¿…é¡» **100% ç­‰äºä½  React é‡Œ push çš„å­—æ®µå**

```js
feature: 'generate'
```

---

### â‘¡ æ•°æ®å±‚ç‰ˆæœ¬

é€‰æ‹©ï¼š

```
ç‰ˆæœ¬ 2
```

é»˜è®¤å°±æ˜¯å®ƒï¼Œä¸éœ€è¦æ”¹ã€‚

---

### â‘¢ é»˜è®¤å€¼ï¼ˆå…ˆä¸å¡«ï¼‰

å¯ä»¥ç•™ç©ºã€‚

---

## Step 5ï¼šç»™å˜é‡èµ·åå­—ï¼ˆåªæ˜¯æ ‡ç­¾ï¼Œä¸æ˜¯ä»£ç ï¼‰

å³ä¸Šè§’ä¼šæ˜¾ç¤ºï¼š

```
æœªå‘½åå˜é‡
```

ğŸ‘‰ è¿™æ˜¯ **GTM å†…éƒ¨æ˜¾ç¤ºç”¨çš„åå­—**

ä½ å¯ä»¥å¡«å†™ï¼š

```
DLV - feature
```

æˆ–è€…ï¼ˆå¦‚æœä½ æ›´å–œæ¬¢ä¸­æ–‡ï¼‰ï¼š

```
æ•°æ®å±‚ - feature
```

**åå­—éšæ„ï¼Œä¸å½±å“åŠŸèƒ½ã€‚**

---

## Step 6ï¼šä¿å­˜

ç‚¹å‡»å³ä¸Šè§’ï¼š

```
ä¿å­˜
```

ğŸ‰ **ä½ å·²ç»æˆåŠŸåˆ›å»ºäº†ç¬¬ä¸€ä¸ªâ€œæ•°æ®å±‚å˜é‡â€**

---

## Step 7ï¼šé‡å¤åˆ›å»ºå¦å¤–ä¸¤ä¸ªå˜é‡

ç”¨**å®Œå…¨ç›¸åŒçš„æ­¥éª¤**ï¼Œå†åˆ›å»ºä¸¤ä¸ªï¼š

### å˜é‡ 2ï¼ˆpageï¼‰

* æ•°æ®å±‚å˜é‡åç§°ï¼š`page`
* å˜é‡åç§°ï¼š`DLV - page`

### å˜é‡ 3ï¼ˆpositionï¼‰

* æ•°æ®å±‚å˜é‡åç§°ï¼š`position`
* å˜é‡åç§°ï¼š`DLV - position`

---

# å››ã€ç¬¬ä¸‰éƒ¨åˆ†ï¼šåœ¨ã€GTMã€‘é‡Œç”¨è¿™äº›å˜é‡å‘ç»™ GA4

> å¹³å°ï¼š**Google Tag Manager**

---

## Step 8ï¼šåˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶è§¦å‘å™¨

### 8.1 æ–°å»ºè§¦å‘å™¨

è·¯å¾„ï¼š

```
è§¦å‘å™¨ â†’ æ–°å»º
```

### 8.2 é€‰æ‹©è§¦å‘å™¨ç±»å‹

```
è‡ªå®šä¹‰äº‹ä»¶
```

### 8.3 é…ç½®

* äº‹ä»¶åç§°ï¼š`ai_generate`
* æ­¤è§¦å‘å™¨è§¦å‘æ¡ä»¶ï¼šæ‰€æœ‰è‡ªå®šä¹‰äº‹ä»¶

å‘½åï¼š

```
CE - ai_generate
```

ä¿å­˜ã€‚

---

## Step 9ï¼šåˆ›å»º GA4 äº‹ä»¶æ ‡ç­¾

### 9.1 æ–°å»ºæ ‡ç­¾

è·¯å¾„ï¼š

```
æ ‡ç­¾ â†’ æ–°å»º
```

### 9.2 é€‰æ‹©æ ‡ç­¾ç±»å‹

```
Google Analyticsï¼šGA4 äº‹ä»¶
```

---

### 9.3 å¡«å†™ GA4 äº‹ä»¶é…ç½®

* é…ç½®æ ‡ç­¾ï¼šé€‰æ‹©ä½ å·²åˆ›å»ºçš„ **GA4 é…ç½®æ ‡ç­¾**
* äº‹ä»¶åç§°ï¼š`ai_generate`

---

### 9.4 æ·»åŠ äº‹ä»¶å‚æ•°ï¼ˆè¿™é‡Œç”¨åˆ° DLVï¼‰

ç‚¹å‡» **æ·»åŠ è¡Œ**ï¼Œå¡«å†™ï¼š

| å‚æ•°åç§°     | å€¼                    |
| -------- | -------------------- |
| feature  | `{{DLV - feature}}`  |
| page     | `{{DLV - page}}`     |
| position | `{{DLV - position}}` |

---

### 9.5 é€‰æ‹©è§¦å‘å™¨

* è§¦å‘å™¨ï¼š`CE - ai_generate`

ä¿å­˜ã€‚

---

# äº”ã€ç¬¬å››éƒ¨åˆ†ï¼šéªŒè¯ï¼ˆä¸€å®šè¦åšï¼‰

---

## Step 10ï¼šGTM é¢„è§ˆæ¨¡å¼éªŒè¯

1. GTM å³ä¸Šè§’ç‚¹å‡» **é¢„è§ˆ**
2. è¾“å…¥ä½ çš„ç½‘ç«™åœ°å€
3. ç‚¹å‡»ã€Œç”Ÿæˆå†…å®¹ã€æŒ‰é’®

ä½ åº”è¯¥çœ‹åˆ°ï¼š

* å·¦ä¾§äº‹ä»¶æµä¸­å‡ºç° `ai_generate`
* æ ‡ç­¾è§¦å‘åˆ—è¡¨ä¸­ï¼š

  * GA4 äº‹ä»¶æ ‡ç­¾è¢«è§¦å‘

ç‚¹å‡»è¯¥äº‹ä»¶ï¼Œåœ¨ **å˜é‡** æ ‡ç­¾é¡µä¸­ä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š

```
DLV - feature = generate
DLV - page = landing
DLV - position = hero
```

---

## Step 11ï¼šGA4 å®æ—¶éªŒè¯

è¿›å…¥ï¼š

```
GA4 â†’ æŠ¥å‘Š â†’ å®æ—¶
```

ä½ åº”è¯¥èƒ½çœ‹åˆ°äº‹ä»¶ï¼š

```
ai_generate
```

---

# å…­ã€ä½ ç°åœ¨å·²ç»çœŸæ­£æŒæ¡äº†ä»€ä¹ˆï¼ˆéå¸¸é‡è¦ï¼‰

ä½ å·²ç»æŒæ¡çš„æ˜¯ï¼š

* React é¡¹ç›®ä¸­ **å·¥ç¨‹çº§åŸ‹ç‚¹æ–¹å¼**
* GTM å¦‚ä½•ä» dataLayer **å–è‡ªå®šä¹‰å­—æ®µ**
* GA4 å¦‚ä½•æ¥æ”¶è¿™äº›å­—æ®µå¹¶ç”¨äºåˆ†æ
* å®Œæ•´çš„ã€Œå‰ç«¯ â†’ GTM â†’ GA4ã€æ•°æ®é€šè·¯

è¿™æ˜¯**æµ·å¤– SaaS / AI å·¥å…·äº§å“çš„æ ‡å‡†åšæ³•**ã€‚

---

# ä¸ƒã€ä¸‹ä¸€æ­¥æˆ‘å»ºè®®ä½ ç«‹åˆ»åšçš„äº‹ï¼ˆå¾ˆå…³é”®ï¼‰

ä¸‹ä¸€æ­¥ä½ ä¼šé‡åˆ°ï¼š

> â€œæˆ‘æœ‰ 20 ä¸ªæŒ‰é’®ï¼Œä¸æƒ³æ¯ä¸ªéƒ½æ‰‹å†™ dataLayer.pushâ€

æˆ‘å¯ä»¥ä¸‹ä¸€æ­¥ç›´æ¥ç»™ä½ ï¼š

* ä¸€ä¸ª **React åŸ‹ç‚¹ Hookï¼ˆuseTrackEventï¼‰**
* ä¸€ä»½ **AI å·¥å…·äº§å“äº‹ä»¶å‘½åè§„èŒƒè¡¨**

ä½ å‘Šè¯‰æˆ‘ä½ è¦å“ªä¸€ä¸ªï¼Œæˆ‘ç›´æ¥ç»™ä½ å¯ç”¨ä»£ç ã€‚
